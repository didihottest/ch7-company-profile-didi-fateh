<%- include("partials/header") %>
<%- include("partials/navbar") %> 
<div class="container">
  <% if(errorMessage) { %>
    <%- include('partials/message.ejs') %>
  <% } %> 
  <form action=<%= location %> method="POST">
    <div class="form-group">
      <label for="title">Title</label>
      <input 
        id="title" 
        class="form-control <%= validationErrors.find(e => e.param === 'title') ? 'is-invalid' : '' %>"
        type="text" 
        name="title" 
        value="<% if (editmode) { %><%= title %><% } %>" required/>
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea
        id="description"
        class="form-control <%= validationErrors.find(e => e.param === 'description') ? 'is-invalid' : '' %>"
        name="description"
        required
      ><% if (editmode) { %><%= description %><% } %></textarea>
    </div>
    <div class="form-group">
      <label for="imageUrl">Image URL</label>
      <input 
      id="imageUrl" 
      class="form-control <%= validationErrors.find(e => e.param === 'imageURL') ? 'is-invalid' : '' %>" 
      type="text" 
      name="imageURL" 
      value="<% if (editmode) { %><%= imageURL %><% } %>" 
      required/>
    </div>
    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>
<%- include("partials/footer") %>
